gameBoardArray   integer   	1[0..11,0..11]         // Keeps track of where in the matrix we are      
snakeGameForm    plform    "gameWindow.plf"
#mainWinTimer    timer  
tailCounter      integer    2
snakeTail        pict      (50)
foodEaten        integer    2
initComplete     integer    1,"0"
//a 12 by 12 playing field, the border are 9's, if hit, you hit a wall game over.

//LEGEND:
//  9 = out of bounds
//  0 = open space
//  1 = snake
//  2 = food

                                        //dont need this will delete later
tailTracker         integer             4[5,2]  //1..11,1..11,1..11

tailRec             record
index               integer   4
Tailx1              integer   4
Taily1              integer   4  
                    recordend


arrayNavigation     record          
row                 integer             2,"0"     // What row we are in
column              integer             2,"0"     // What column we are in
                    recordend

// Keeps track of pixels were on, direction inputted by user
headOfSnake         record          
x1                  integer             4,"0000"     // Pixels to move in x axis
y1                  integer             4,"0000"     // Pixels to move in y axis
direction           integer             1,"0"        // Which direction we 
                    recordend
    include      snakeGameArrayFile   
    // Where the snake head starts
    move 6 to arrayNavigation 
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Start
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
start 
   call main
   stop
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//END
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Start of MAIN
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
main function
    entry
timerResult      form               1
    
    formload    snakeGameForm
    setfocus    gameWin


    create      #mainWinTimer, (5)
    activate    #mainWinTimer,snakeMovesEverySecond,timerResult

    loop
        waitevent
    repeat

    functionend
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//END of MAIN
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Start of pls functions
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
snakeMovesEverySecond function

    entry

    call didSnakeHitAWall
            switch headOfSnake.direction 

            case 1     //  1 = up
                subtract 1 to arrayNavigation.row
     
            case 2     //  2 = down
                add 1 to arrayNavigation.row

            case 3     //  3 = left
                subtract 1 to arrayNavigation.column

            case 4     //  4 = right
                add 1 to arrayNavigation.column

            endswitch
    
    call handleGameboard
    functionend
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Start of pls functions
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
didSnakeHitAWall function
    entry
    if (arrayNavigation.row == 11 || arrayNavigation.column == 11 || arrayNavigation.row == 0 || arrayNavigation.column == 0)   //snake hit a wall, can move this to other file
        display "Snake hit a wall! Noooooooooooooooooooo!!!"
        stop
    endif
    functionend
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
StartGame lfunction
    entry

   // setprop     headOfSnake,Text=textt

    functionend
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//End of pls functions
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////




////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Start of plf functions
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
gwOnKeypress function
    entry
arrowkey         form            10

    
    eventinfo 0,result=arrowkey
    display arrowkey
    switch arrowkey
    case 38     //up arrow
        move 1 to headOfSnake.direction

    case 40     //down arrow
        move 2 to headOfSnake.direction   


    case 37     //left arrow
        move 3 to headOfSnake.direction


    case 39     //right arrow
        move 4 to headOfSnake.direction 
    endswitch
    functionend 
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//End of plf functions
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////